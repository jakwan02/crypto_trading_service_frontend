# i18n 설계 (재발 방지용)

## 결론(현재 구조)
- i18n 키는 `<namespace>.<keyPath>` 형태다.
  - 예: `t("billing.title")` → namespace=`billing`, key=`title`
  - 예: `t("billing.status.title")` → namespace=`billing`, key=`status.title`

근거:
- 설정: `src/i18n/i18n.ts`
  - `defaultNS: "common"`
  - `nsSeparator: "."`
  - `ns`는 `resources.ko`의 최상위 키 목록을 자동 사용(누락 방지)

## 리소스 구조(강제)
- `src/i18n/locales/{ko,en}.ts`의 **최상위 키가 namespace**다.
  - 예: `{ common: {...}, billing: {...}, usage: {...}, watchlists: {...}, errors: {...} }`

## 강제 규칙(키/문구 노출 방지)
1) UI에서 번역 키 문자열이 그대로 보이면(예: `billing.title`) **버그로 간주**
2) 신규 화면/컴포넌트에서 고정 문구는 반드시 i18n 키로 추가한다.
3) 서버 에러/코드/원문은 **PROD 화면에 직접 노출하지 않는다**
   - 에러는 `ApiErrorView`의 “코드→문구/CTA” 매핑으로 흡수한다.

## 작업 체크리스트(새 키 추가 시)
- [ ] `ko.ts`와 `en.ts`에 동일 키를 추가했는가?
- [ ] namespace는 기존 namespace를 재사용했는가? (새 namespace가 꼭 필요하면 최상위 키로 추가)
- [ ] DEV에서만 디버그 정보를 보이게 했는가? (PROD는 숨김)

## 과거 장애(재발 방지 메모)
- 증상: `billing.title` 같은 키가 화면에 그대로 출력
- 원인: i18n init의 `ns` 목록에 Week2 namespace(billing/usage/watchlists/errors/devBilling)가 누락
- 해결: `ns`를 `resources.ko` 최상위 키에서 자동 생성하도록 변경(누락 자체가 불가능)

